# 아키텍처 패턴

---

### 아키텍처 패턴

- 소프트웨어 아키텍처의 공통적인 발생 문제에 대한 일반적인, 재사용 가능한 해결책.
- 디자인 패턴과 비슷하지만 더 넓은 범위.
- 컴퓨터 하드웨어 성능 제한, 비즈니스 위험의 최소화와 고가용성(HA), 모니터링 등 소프트웨어 공학의 다양한 문제 해결.
- 일부 아키텍처 패턴은 소프트웨어 프레임워크 안에 구현.

---

### 1. Layer 패턴

> 각 레이어는 해당 레이어가 의존하는 직접적인 하위 레이어만 알면됨.
>
- 가장 일반적으로 사용하는 아키텍처 패턴으로서 subtask들을 그룹으로 묶어 사용 허가 관계를 표시하는 패턴.
- 시스템을 계층화하고 하위 레이어가 제공하는 기능을 상위 레이어가 이용함으로써 각 레이어 구조를 단순화한다는 발상.
- 모듈의 재사용성을 높여 유지보수성이나 이식성에 좋은 패턴.
- 각 레이어의 책임을 명확히 할 수 있음.
- 사용처 :
    - OSI 7 Layers.
    - 웹애플리케이션처럼 다양한 기술을 조합해 만드는 복잡한 시스템에서는 MVC 모델과 함께 레이어(Layer)라고 하는 아키텍처 패턴을 이용.
- 웹 애플리케이션에서의 레이어 분리 :
    - 웹 애플리케이션에서 레이어 패턴을 실제로 이용하려면 응용 대상에 맞춰 적절히 계층화해야함.

    ```java
    프리젠테이션 레이어(Controller: C/V)
          V
     비즈니스 레이어(Service: M)
          V
    데이터 액세스 레이어(Resitory: M)
    ```


---

### 2. Microservices Architecture 패턴

- 애플리케이션을 작은, 독립적인 서비스로 분할하고, 각 서비스가 자체적으로 독립적으로 배포 및 확장될 수 있도록 하는 아키텍처 패턴.
- 변화, 장애에 대한 대응이 민첩.
- MSA 패턴을 구성하는 패턴들( 일부 ) :
    - API Gateway : 마이크로서비스에 대한 외부 엑세스를 중앙 집중화하여 통신을 간소화하고, 클라이언트 요청에 대한 단일 진입점을 제공.
    - Event-Driven Architecture : 이벤트를 활용하여 서비스에서 작업을 트리거하여 서비스 간의 느슨한 결합을 촉진하고 실시간 응답성을 가능하게 함.
        - 보관된 이벤트를 바탕으로 장애 발생 또는 특정 요구사항에 따라 지정된 시점으로 복원을 수행하여, Event를 통해 최종적인 일관성을 유지할 수 있음.

---

### 3. 3-Tier Architecture vs MVC 패턴

![Untitled](%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%20d75fa4fd1f2644fa957da53dd216e09d/Untitled.png)

> 물리적으로 3계층이 분리되어있고, 그 안에 MVC가 레이어패턴으로 구성되어 통신 중.
>

(1) 3-Tier Architecture 패턴 :

- `프레젠테이션 계층 - 비즈니스 계층 - 데이터 계층`을 각각 물리적으로 독립된 모듈로 개발하고 유지하는 구조.
    - 프레젠테이션 계층 :
        - 응용 프로그램의 최상위에 위치하고 있으며, 서로 다른 층에 있는 데이터 등과 커뮤니케이션 함.
    - 비즈니스 계층 :
        - 비즈니스 로직, 트랜잭션 계층 이라고도 불림.
        - 클라이언트 요청에 대해 마치 서버처럼 행동.
        - 데이터 계층에 대해서는 클라이언트처럼 행동.
    - 데이터 계층 :
        - 데이터베이스 + 데이터베이스에 엑세스해서 읽거나 씀.

  (2) MVC 패턴

- `모델 - 뷰 - 컨트롤러`로 분리된 애플리케이션으로, 물리적으로 구분할 수 없음.
- 모델 : 어떤 동작을 수행하는 코드.
- 뷰 : 모델에게 쿼리하여 모델로부터 값을 가져와 사용자에게 보여줌.
- 컨트롤러 : 사용자는 컨트롤러를 사용하여 모델의 상태를 변경.
